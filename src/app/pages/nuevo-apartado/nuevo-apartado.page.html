<ion-header>
  <ion-toolbar>
    <ion-title>Aparta tu producto</ion-title>
    <ion-back-button slot="start"defaultHref="/inventario"></ion-back-button >
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">
 

  <ion-card>
    <ion-item fill="outline">



      <ion-grid [fixed]="true">
        <ion-row>
          <ion-col>
            <ion-label position="stacked">NOMBRE DEL CLIENTE:</ion-label>
          </ion-col>
          <ion-col>
            <ion-button fill="outline" id="open-modal" expand="block">Buscar</ion-button>
          </ion-col>
        </ion-row>
      </ion-grid>
      <ion-input [(ngModel)]="nombre" name="nombre"></ion-input>
    </ion-item>

  <ion-item fill="outline">
    <ion-grid [fixed]="true">
      <ion-row>
        <ion-col>
          <ion-label position="stacked">ARTICULO:</ion-label>
        </ion-col>
        <ion-col>
          <ion-button fill="outline" id="open-modal2" expand="block">Buscar</ion-button>
        </ion-col>
      </ion-row>
    </ion-grid>
    <ion-input [(ngModel)]="producto" name="producto"></ion-input>
    </ion-item>
  
    <ion-item fill="outline">
      <ion-label position="stacked">FECHA DE APARTADO:</ion-label>
      <ion-input [(ngModel)]="fecha" name="fecha"></ion-input>
    </ion-item>
  
    <ion-item fill="outline">
      <ion-label position="stacked">FECHA LIMITE:</ion-label>
      <ion-input [(ngModel)]="fechaLimite" name="fechaLimite" (click)="sumarDias()"></ion-input>
    </ion-item>
  
    <ion-item fill="outline">
      <ion-label position="stacked">TOTAL A PAGAR:</ion-label>
      <ion-input [(ngModel)]="precio" name="precio"></ion-input>
    </ion-item>
  
    <ion-item fill="outline">
      <ion-label position="stacked">FECHA DEL ULTIMO ABONO:</ion-label>
      <ion-input [(ngModel)]="fecha" name="fecha"></ion-input>
    </ion-item>

    <ion-item fill="outline">
      <ion-label position="stacked">CANTIDAD DEL ULTIMO ABONO:</ion-label>
      <ion-input [(ngModel)]="abono" name="abono"></ion-input>
    </ion-item>

    <ion-item fill="outline">
      <ion-label position="stacked">TOTAL RESTANTE:</ion-label>
      <ion-input [(ngModel)]="restante" name="restante" (click)="calcularRestante()"></ion-input>
    </ion-item>
  
    <ion-item fill="outline">
      <ion-label position="stacked">FECHA DE ENTREGA:</ion-label>
      <ion-input [(ngModel)]="fechaEntrega" name="fechaEntrega"></ion-input>
    </ion-item>
  

    
  
  </ion-card>

    <ion-button fill="outline" expand="block" (click)="registrarApartado()">Apartar Articulo</ion-button>

  

    <ion-modal #modal trigger="open-modal" [initialBreakpoint]="0.25" [breakpoints]="[0, 0.25, 0.5, 0.75]">
    <ng-template>
      <ion-content>
        <ion-searchbar placeholder="Search" (click)="modal.setCurrentBreakpoint(0.75)" (ionChange)="barraBusqueda($event)"></ion-searchbar>
        <ion-list>

          <ion-item *ngFor="let cliente of resultado" (click)="asignarNombre(cliente.nombre)">
            <ion-label>
              <h2>{{cliente.nombre}}</h2>
              <p>{{cliente.telefono}}</p>
            </ion-label>
          </ion-item>
      
        </ion-list>
      </ion-content>
    </ng-template>
  </ion-modal>

  <ion-modal #modal trigger="open-modal2" [initialBreakpoint]="0.25" [breakpoints]="[0, 0.25, 0.5, 0.75]">
    <ng-template>
      <ion-content>
        <ion-searchbar placeholder="Search" (click)="modal.setCurrentBreakpoint(0.75)" (ionChange)="barraBusqueda2($event)"></ion-searchbar>
        <ion-list>
          
          <ion-item *ngFor="let producto of resultado2" (click)="asignarProducto(producto.nombre, producto.descripcion, producto.precio_venta)">
            <ion-avatar slot="start">
              <ion-img src="http://finapoyo-atlixco.com/{{producto.foto}}"></ion-img>
            </ion-avatar>
            <ion-label>
              <h2>{{producto.nombre}}</h2>
              <p>{{producto.descripcion}}</p>
              <p>Precio: ${{producto.precio_venta}}</p>
            </ion-label>
          </ion-item>
      
        </ion-list>
      </ion-content>
    </ng-template>
  </ion-modal>


</ion-content>
